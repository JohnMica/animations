html {
	height: 100vh;
}

* {
	box-sizing: border-box;
}

body {
	display: grid;
	grid-template-columns: auto 1fr;
	grid-template-rows: auto 1fr auto;
	height: 100vh;
	padding: 0;
	margin: 0;
	overflow: hidden;
}

aside {
	grid-column: span 1;
	grid-row: span 3;
}

main {
	grid-column: span 1;
	grid-row: span 2;
	transition: all 0.3s ease-in;
}

footer {
	grid-column: 2/-1;
	grid-row: span 1;
	padding: 1rem;
	text-align: right;
}

.side-nav {
	display: flex;
	flex-flow: column nowrap;
	background: lightgray;
}

.main-wrapper {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-template-rows: auto repeat(6, 1fr);
	background: pink;
	height: 100%;
}

.page-links {
	grid-row: 1/-1;
	grid-column: 1/-1;
	display: grid;
	grid-template-columns: repeat(4, auto);
	grid-template-rows: auto 1fr auto;
	justify-content: center;
	align-items: center;

	&.moved {
		padding-bottom: 2rem;
		align-items: start;
		animation: change-row 0.75s forwards;
	}
}

.page-title {
	grid-column: span 4;
	grid-row: 1/2;
	justify-self: center;
	padding: 2rem;
}

.inpage-links {
	grid-column: span 4;
	grid-row: 2/3;

	&.child-open {
		animation: visible-children 0.75s forwards;
	}
}

.page-link {
	padding: 0.5rem 0.75rem;
	background-color: lightgray;
	grid-row: 2/3;
	align-self: center;
	justify-self: center;
	width: fit-content;

	&:nth-of-type(1) {
		grid-column: 1/2;
	}
	&:nth-of-type(2) {
		grid-column: 2/3;
	}
	&:nth-of-type(3) {
		grid-column: 3/4;
	}
	&:nth-of-type(4) {
		grid-column: 4/5;
	}
}

.section {
	grid-column: 1/-1;
	visibility: hidden;
	opacity: 0;
	height: 1px;
	grid-row: 3/4;
	overflow: hidden;

	&.open-section {
		height: 100%;
		padding: 1rem;
		margin-right: 0;
		overflow: scroll;
		&.responsive-design,
		&.web-design,
		&.accesibility,
		&.e-commerce,
		&.friendly-cms {
			animation: section-visible 0.75s forwards;
		}
	}
}

@keyframes visible-children {
	0% {
		margin-left: -1rem;
	}
	25% {
		margin-left: 1rem;
		transform: skewX(-45deg);
	}
	50% {
		visibility: hidden;
		opacity: 0;
	}
	90% {
		visibility: hidden;
		opacity: 0;
	}
	100% {
		grid-row: 2/3;
		visibility: visible;
		opacity: 1;
	}
}
@keyframes section-visible {
	80% {
		visibility: hidden;
		opacity: 0;
	}
	80% {
		visibility: hidden;
		opacity: 0;
	}
	100% {
		grid-row: 2/-1;
		visibility: visible;
		opacity: 1;
	}
}
@keyframes change-row {
	55% {
		visibility: hidden;
		opacity: 0;
	}
	75% {
		visibility: hidden;
		opacity: 0;
	}
	100% {
		grid-row: 1/2;
		visibility: visible;
		opacity: 1;
	}
}

aside {
	position: relative;
	width: 4rem;
	padding: 1rem;
	transition: all 0.35s ease-in;
}
.nav-link {
	visibility: hidden;
	opacity: 0;
	width: 0;
	margin-left: -100%;
	transition: all 0.35s ease-in;
}
.nav-btn {
	visibility: visible;
	opacity: 1;
	width: fit-content;
	margin-left: 0;
	transform: rotate(-90deg);
	position: absolute;
	bottom: 1rem;
	left: 1rem;
	transition: all 0.35s ease-in;
}

.open {
	width: 235px;
	transition: all 0.35s ease-in;
	.nav-link {
		visibility: visible;
		opacity: 1;
		margin-left: 0;
		width: fit-content;
		transition: width 0.35s ease-in;
	}
	.nav-btn {
		transform: rotate(0deg);
		transition: transform 0.35s ease-in;
	}
	+ main {
		transition: all 0.35s ease-in;
		overflow: hidden;
		margin-right: -235px;
		transform: translate3d(0, 0, 235px);
	}
}

@media screen and (max-width: 768px) {
	.inpage-links {
		grid-gap: 1rem;
		grid-column: 1/-1;
		display: grid;
		grid-template-columns: repeat(4, auto);
		grid-template-rows: auto auto;
	}
	.page-link {
		padding: 0.5rem 0.75rem;
		background-color: lightgray;
		grid-row: 2/-1;
		&:nth-of-type(1),
		&:nth-of-type(2),
		&:nth-of-type(3),
		&:nth-of-type(4) {
			grid-column: span 2;
		}
		&:nth-of-type(1),
		&:nth-of-type(2) {
			grid-row: auto;
		}
	}
}
